<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	>
    <f:metadata>
        <f:viewParam name="fentry" value="#{wall.message}" />
    </f:metadata>
    
<body>
         <c:if test="#{not empty atrybut.getLogin()}">
             <p align="center">Logged as: #{atrybut.getLogin()}</p>
             <h:form>
                 <h:inputText label="your message" id="input" binding="#{entry}" required="true" size="150"/>
                 <h:message for="fentry" />
                 <h:commandButton value="Submit" action="#{data.newEntry(atrybut.getLogin(), entry.value)}" />
             </h:form>
             <h:form>
                 <h:commandButton value="Info" action="info?faces-redirect=true" />
             </h:form>
             <table style="width:100%"><col width="200" />
                <c:forEach items="#{data.getAllEntries()}" var="wall">
                    <tr><td><h2>#{wall.login}</h2>
                                <img src="http://kritsit.ddns.net:81/#{wall.login}.jpg" width="50" height="50" align="center" />
                                <br>#{data.getCity(wall.login)}</br>
                                #{data.getEmail(wall.login)}</td>
                       <td><p align="center"> #{wall.message}</p></td></tr>
                </c:forEach>	
             </table>
        </c:if>

</body>
</html>
